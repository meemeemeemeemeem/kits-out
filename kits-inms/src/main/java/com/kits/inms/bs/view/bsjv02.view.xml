<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model>
    <DataType name="dtQuery">
      <PropertyDef name="compId">
        <Property name="label">公司别</Property>
        <Property name="readOnly">true</Property>
      </PropertyDef>
      <PropertyDef name="stockId">
        <Property name="label">仓库代码</Property>
        <Validator name="validator1" type="charLength">
          <Property name="minLength">0</Property>
          <Property name="maxLength">10</Property>
        </Validator>
      </PropertyDef>
    </DataType>
    <DataType name="dtDm11">
      <ClientEvent name="onDataChange">var property = arg.property;&#xD;
if(property==&quot;stockId&quot;){&#xD;
	view.get(&quot;#dsDm12.data:#&quot;).set(&quot;stockId&quot;,view.get(&quot;#dsDm11.data:#&quot;).get(&quot;stockId&quot;));&#xD;
&#xD;
	var stockId = view.get(&quot;#dsDm11.data:#&quot;).get(&quot;stockId&quot;);&#xD;
	new dorado.widget.AjaxAction().set({&#xD;
					&quot;service&quot;: &quot;bsjc03BO#checkStockId&quot;,&#xD;
					&quot;parameter&quot;: stockId&#xD;
				}).execute(function(flag){&#xD;
					&#xD;
					if(!flag){&#xD;
						view.get(&quot;#form1.entity&quot;).set(&quot;stockId&quot;,&quot;&quot;);&#xD;
						dorado.MessageBox.alert(&quot;已存在相同的仓库，请重新填写！&quot;);&#xD;
						&#xD;
					}&#xD;
				});&#xD;
}&#xD;
</ClientEvent>
      <Property name="creationType">com.kits.inms.bs.domain.Tbdm11</Property>
      <PropertyDef name="compId">
        <Property></Property>
        <Property name="label">公司别</Property>
      </PropertyDef>
      <PropertyDef name="stockId">
        <Property></Property>
        <Property name="label">仓库代码</Property>
        <Property name="required">true</Property>
        <Validator name="validator1" type="charLength">
          <Property name="maxLength">20</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="createUser">
        <Property></Property>
        <Property name="label">创建人员</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;commonUtils#getLoginUser&quot;).getResult()}</Property>
          <Property name="keyProperty">name</Property>
          <Property name="valueProperty">value</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="createDate">
        <Property></Property>
        <Property name="label">创建日期</Property>
      </PropertyDef>
      <PropertyDef name="modifyUser">
        <Property></Property>
        <Property name="label">修改人员</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;commonUtils#getLoginUser&quot;).getResult()}</Property>
          <Property name="keyProperty">name</Property>
          <Property name="valueProperty">value</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="modifyDate">
        <Property></Property>
        <Property name="label">修改日期</Property>
      </PropertyDef>
      <PropertyDef name="stockName">
        <Property></Property>
        <Property name="label">仓库名称</Property>
        <Property name="required">true</Property>
        <Validator name="validator2" type="charLength">
          <Property name="minLength">0</Property>
          <Property name="maxLength">20</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="authId">
        <Property></Property>
        <Property name="label">保密授权群组</Property>
      </PropertyDef>
      <PropertyDef name="facId">
        <Property></Property>
        <Property name="label">隶属厂别</Property>
      </PropertyDef>
      <PropertyDef name="zoneId">
        <Property></Property>
        <Property name="label">隶属地区</Property>
      </PropertyDef>
      <PropertyDef name="stockKeyA">
        <Property></Property>
        <Property name="label">仓库特性A</Property>
      </PropertyDef>
      <PropertyDef name="stockKeyB">
        <Property></Property>
        <Property name="label">仓库特性B</Property>
      </PropertyDef>
      <PropertyDef name="stockKeyC">
        <Property></Property>
        <Property name="label">仓库特性C</Property>
      </PropertyDef>
      <PropertyDef name="defA">
        <Property></Property>
        <Property name="label">备注</Property>
      </PropertyDef>
      <PropertyDef name="pkDm11">
        <Property></Property>
        <Property name="label">PK_DM11_</Property>
      </PropertyDef>
      <PropertyDef name="dutyPerson">
        <Property></Property>
        <Property name="label">联系人</Property>
        <Property name="mapping">
          <Property name="keyProperty">name</Property>
          <Property name="valueProperty">value</Property>
        </Property>
        <Property name="required">true</Property>
      </PropertyDef>
      <PropertyDef name="phoneNum">
        <Property></Property>
        <Property name="label">联系电话</Property>
        <Property name="required">true</Property>
        <Validator name="validator2" type="regExp">
          <Property name="whiteRegExp">^(0\d{2}-\d{8})|(0\d{3}-\d{7})|(1[34578]\d{9})$</Property>
          <Property name="resultMessage">请输入正确的手机号码！</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="address">
        <Property></Property>
        <Property name="label">仓库地址</Property>
        <Property name="required">true</Property>
      </PropertyDef>
      <PropertyDef name="defs01">
        <Property></Property>
        <Property name="label">仓库识别码</Property>
      </PropertyDef>
      <PropertyDef name="defs02">
        <Property></Property>
        <Property name="label">城市名称</Property>
      </PropertyDef>
      <PropertyDef name="defs03">
        <Property></Property>
        <Property name="label">备注</Property>
      </PropertyDef>
      <PropertyDef name="defs04">
        <Property></Property>
        <Property name="label">DEFS04_</Property>
      </PropertyDef>
      <PropertyDef name="defs05">
        <Property></Property>
        <Property name="label">DEFS05_</Property>
      </PropertyDef>
    </DataType>
    <DataType name="dtDm12">
      <Property name="creationType">com.kits.inms.bs.domain.Tbdm12</Property>
      <PropertyDef name="compId">
        <Property></Property>
        <Property name="label">公司代码</Property>
      </PropertyDef>
      <PropertyDef name="stockId">
        <Property></Property>
        <Property name="label">仓库代码</Property>
      </PropertyDef>
      <PropertyDef name="locNo">
        <Property></Property>
        <Property name="label">储区代码</Property>
        <Property name="required">true</Property>
        <Validator name="validator1" type="required">
          <Property name="resultMessage">储位代码不能为空！</Property>
        </Validator>
        <Validator name="validator2" type="charLength">
          <Property name="maxLength">20</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="locName">
        <Property></Property>
        <Property name="label">储位名称</Property>
        <Property name="required">true</Property>
        <Validator name="validator1" type="charLength">
          <Property name="maxLength">20</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="createUser">
        <Property></Property>
        <Property name="label">创建人员</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;commonUtils#getLoginUser&quot;).getResult()}</Property>
          <Property name="keyProperty">name</Property>
          <Property name="valueProperty">value</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="createDate">
        <Property name="dataType">Date</Property>
        <Property name="label">创建日期</Property>
      </PropertyDef>
      <PropertyDef name="modifyUser">
        <Property></Property>
        <Property name="label">修改人员</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;commonUtils#getLoginUser&quot;).getResult()}</Property>
          <Property name="keyProperty">name</Property>
          <Property name="valueProperty">value</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="modifyDate">
        <Property name="dataType">Date</Property>
        <Property name="label">修改日期</Property>
      </PropertyDef>
      <PropertyDef name="authId">
        <Property></Property>
        <Property name="label">保密授权群组</Property>
      </PropertyDef>
      <PropertyDef name="keeper">
        <Property></Property>
        <Property name="label">管理员</Property>
      </PropertyDef>
      <PropertyDef name="cap">
        <Property name="dataType">BigDecimal</Property>
        <Property name="label">储位量</Property>
        <Validator name="validator1" type="range">
          <Property name="minValue">0</Property>
          <Property name="minValueValidateMode">allowEquals</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="locLayer">
        <Property name="dataType">BigDecimal</Property>
        <Property name="label">储位层级</Property>
        <Validator name="validator1" type="range">
          <Property name="minValue">0</Property>
          <Property name="minValueValidateMode">allowEquals</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="loc1f">
        <Property></Property>
        <Property name="label">层级名称</Property>
        <Validator name="validator1" type="charLength">
          <Property name="maxLength">20</Property>
        </Validator>
      </PropertyDef>
      <PropertyDef name="loc2f">
        <Property></Property>
        <Property name="label">储位识别码</Property>
      </PropertyDef>
      <PropertyDef name="loc3f">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="loc4f">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="pkDm12">
        <Property></Property>
        <Property name="label">PK_DM12_</Property>
      </PropertyDef>
    </DataType>
    <DataType name="dtQuery1">
      <PropertyDef name="stockNo"/>
      <PropertyDef name="stockName">
        <Property></Property>
        <Property name="label">仓库名称</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;commonUtils#getStockLoc&quot;).getResult()}</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="createDate">
        <Property></Property>
        <Property name="label">创建日期</Property>
        <Property name="dataType">Date</Property>
      </PropertyDef>
    </DataType>
  </Model>
  <View>
    <ClientEvent name="onCreate">//仓库储位作业&#xD;
functions = {&#xD;
	//保存&#xD;
	&quot;saveOnClick&quot;:function(){&#xD;
		var state = view.get(&quot;#dsDm11&quot;).getData(&quot;#&quot;).state;&#xD;
		var dataList = view.get(&quot;#dgDm11&quot;).get(&quot;selection&quot;).slice(0);&#xD;
		if(state==0){&#xD;
			return;&#xD;
		}else if(view.get(&quot;#dsDm11&quot;).getData(&quot;#&quot;).validate(&quot;stockId&quot;) != &quot;ok&quot;){&#xD;
			dorado.MessageBox.alert(&quot;仓库代码为空，不能保存数据！&quot;);&#xD;
			return;&#xD;
		}else{&#xD;
			view.get(&quot;#saveDm11&quot;).set({&#xD;
				executingMessage:&quot;正在保存中 ... &quot;&#xD;
				&#xD;
			}).execute(function(msg){&#xD;
				if(msg==null){&#xD;
					&#xD;
					info.doSet(&quot;text&quot;,&quot;保存成功！&quot;);&#xD;
						//是否刷新&#xD;
					if(dataList){&#xD;
						dataList.removeAt(0);&#xD;
						var len = dataList.length;&#xD;
						if(len==0){&#xD;
							view.get(&quot;#dialog1&quot;).close();&#xD;
						}else{&#xD;
							view.get(&quot;#dsDm11&quot;).getData().setCurrent(dataList[0]);&#xD;
							view.get(&quot;#dgDm11&quot;).set(&quot;selection&quot;,dataList);&#xD;
						}&#xD;
					}else{&#xD;
						view.get(&quot;#dialog1&quot;).close();&#xD;
					}&#xD;
				}else{&#xD;
					info.doSet(&quot;text&quot;,msg);&#xD;
				}&#xD;
				&#xD;
			});&#xD;
		}&#xD;
	}&#xD;
	,&#xD;
	&quot;saveLocOnclick&quot;:function(){&#xD;
		var state = dsDm12.getData(&quot;#&quot;).state;&#xD;
		if(state==0){&#xD;
			return;&#xD;
		}else if(view.get(&quot;#dsDm12&quot;).getData(&quot;#&quot;).validate(&quot;locNo&quot;) != &quot;ok&quot;){&#xD;
			dorado.MessageBox.alert(&quot;储位代码为空，不能保存数据！&quot;);&#xD;
			return;&#xD;
		}else{&#xD;
			var dataList=dsDm12.getData();&#xD;
			var locNo = dsDm12.getData(&quot;#&quot;).get(&quot;locNo&quot;);&#xD;
			var num=0;&#xD;
			//检查locNo是否有重复值&#xD;
			dataList.each(function(item){&#xD;
				if(item.get(&quot;locNo&quot;)==locNo){&#xD;
					num+=1;&#xD;
				}&#xD;
			});&#xD;
			if(num>1){&#xD;
				dorado.MessageBox.alert(&quot;同一仓库下,储区代码不能有重复值!&quot;);&#xD;
				return;&#xD;
			}&#xD;
			view.get(&quot;#saveDm12&quot;).set({&#xD;
				executingMessage:&quot;正在保存中 ... &quot;,&#xD;
				successMessage:&quot;保存成功！&quot;&#xD;
			}).execute();&#xD;
			view.get(&quot;#dialog2&quot;).hide();&#xD;
		}&#xD;
	},&#xD;
	&#xD;
	&quot;delOnClick&quot; : function(){&#xD;
		var data = dsDm11.getData(&quot;#&quot;);&#xD;
		if(data!=null){&#xD;
			var options = {&#xD;
				callback:function(){&#xD;
					data.remove();&#xD;
					view.get(&quot;#saveDm11&quot;).set({&#xD;
						executingMessage : &quot;正在删除 ... &quot;&#xD;
						&#xD;
					}).execute(function(msg){&#xD;
						if(msg==null){&#xD;
							info.doSet(&quot;text&quot;,&quot;删除成功！&quot;);&#xD;
						}else{&#xD;
							info.doSet(&quot;text&quot;,msg);&#xD;
						}&#xD;
					});&#xD;
				},&#xD;
				&#xD;
				icon : &quot;WARNING&quot;,&#xD;
				title : &quot;确认删除！&quot;&#xD;
			}&#xD;
			&#xD;
			dorado.MessageBox.confirm(&quot;您确定要删除数据吗？&quot;,options);&#xD;
		}else{&#xD;
			dorado.MessageBox.alert(&quot;请选择一条要删除的数据！&quot;);&#xD;
		}&#xD;
},&#xD;
	&#xD;
	&quot;delLocOnclick&quot;:function(data){&#xD;
		var options = {&#xD;
				callback:function(){&#xD;
					data.remove();		&#xD;
					view.get(&quot;#saveDm12&quot;).set({&#xD;
						executingMessage:&quot;正在删除中 ... &quot;&#xD;
						&#xD;
					}).execute(function(msg){&#xD;
						if(msg==null){&#xD;
							info.doSet(&quot;text&quot;,&quot;删除成功！&quot;);&#xD;
						}else{&#xD;
							info.doSet(&quot;text&quot;,msg);&#xD;
						}&#xD;
					});&#xD;
				},&#xD;
				icon:&quot;WARNING&quot;&#xD;
			};&#xD;
			dorado.MessageBox.confirm(&quot;您确定要删除所选数据吗？&quot;,options);&#xD;
	},&#xD;
	&#xD;
	&quot;saveOrUpdDm12&quot;:function(msg){&#xD;
		var state = view.get(&quot;#dsDm12&quot;).getData(&quot;#&quot;).state;&#xD;
		var dsDm12CD = view.get(&quot;#dsDm12&quot;).getData(&quot;#&quot;);&#xD;
		//验证新增必须参数&#xD;
		if(msg==&quot;新增&quot; &amp;&amp; state!=1){&#xD;
		//复制新增&#xD;
		 dsDm12CD.setState(1);&#xD;
		 //将唯一数据置为空&#xD;
		 dsDm12CD.set(&quot;updEmp&quot;,null);&#xD;
		 dsDm12CD.set(&quot;updDate&quot;,null);&#xD;
		 //其他视情况而定&#xD;
&#xD;
		 view.get(&quot;#dsDm12&quot;).insert(dsDm12CD);&#xD;
	}&#xD;
&#xD;
	if(msg==&quot;修改&quot; &amp;&amp; state==0){&#xD;
		&#xD;
		dorado.MessageBox.alert(&quot;您没有要修改的数据！&quot;);&#xD;
		return;&#xD;
	}&#xD;
	&#xD;
	view.get(&quot;#saveDm12&quot;).set({&#xD;
		executingMessage:&quot;正在&quot;+msg+&quot;中 ... &quot;&#xD;
		&#xD;
	}).execute(function(msg1){&#xD;
		if(msg1==null){&#xD;
			//刷新数据集，只显示当天新增数据&#xD;
		view.get(&quot;#dsDm12&quot;).set(&quot;parameter&quot;,{&#xD;
			compId:view.get(&quot;#dsDm11&quot;).getData(&quot;#&quot;).get(&quot;compId&quot;),&#xD;
			stockId:view.get(&quot;#dsDm11&quot;).getData(&quot;#&quot;).get(&quot;stockId&quot;)&#xD;
			//其他参数&#xD;
		}).flushAsync(function(){&#xD;
			info.doSet(&quot;text&quot;,msg+&quot;成功！&quot;);&#xD;
		});&#xD;
		}else{&#xD;
			info.doSet(&quot;text&quot;,msg1);&#xD;
		}&#xD;
		&#xD;
	});&#xD;
	}&#xD;
}&#xD;
</ClientEvent>
    <ClientEvent name="onReady">window.dsQuery1 = view.get(&quot;#dsQuery1&quot;);&#xD;
window.dsDm12=view.get(&quot;#dsDm12&quot;);&#xD;
window.dsDm11=view.get(&quot;#dsDm11&quot;);&#xD;
window.info = view.get(&quot;#info&quot;);&#xD;
info.doSet(&quot;text&quot;,&quot;欢迎使用本系统 ...&quot;);&#xD;
</ClientEvent>
    <Property name="styleSheetFile">com/kits/saas/mw/style1.css</Property>
    <DataSet id="dsQuery">
      <ClientEvent name="onReady">self.insert({&#xD;
	compId:&quot;WHKnow&quot;&#xD;
});&#xD;
</ClientEvent>
      <Property name="dataType">[dtQuery]</Property>
    </DataSet>
    <DataSet id="dsDm11">
      <Property name="dataType">[dtDm11]</Property>
      <Property name="dataProvider">bsjc03BO#queryDm11</Property>
      <Property name="pageSize">10</Property>
      <Property name="loadMode">lazy</Property>
    </DataSet>
    <DataSet id="dsDm12">
      <Property name="dataType">[dtDm12]</Property>
      <Property name="dataProvider">bsjc04BO#queryDm12</Property>
      <Property name="pageSize">40</Property>
      <Property name="loadMode">manual</Property>
    </DataSet>
    <Panel>
      <Property name="exClassName">panel0</Property>
      <Buttons/>
      <Children>
        <AutoForm>
          <Property name="cols">250,80,80</Property>
          <Property name="dataSet">dsQuery</Property>
          <Property name="style">
            <Property name="key"></Property>
          </Property>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Property name="style">
              <Property name="key"></Property>
              <Property name="key1"></Property>
            </Property>
            <Property name="trigger">trigger1</Property>
            <Editor/>
          </AutoFormElement>
          <Button>
            <ClientEvent name="onClick">var parameter = view.get(&quot;#dsQuery.data:#&quot;);&#xD;
if(parameter.get(&quot;stockId&quot;)){&#xD;
	view.get(&quot;#dsDm11&quot;).set(&quot;parameter&quot;,parameter).flushAsync(function(returnData){&#xD;
		if(returnData.entityCount==0){&#xD;
			info.doSet(&quot;text&quot;,&quot;未找到相关的资料信息...&quot;);&#xD;
		}else{&#xD;
			info.doSet(&quot;text&quot;,&quot;查询成功！&quot;);&#xD;
		}&#xD;
		view.get(&quot;#tabControl&quot;).set(&quot;currentTab&quot;,&quot;stockTab&quot;);&#xD;
	});&#xD;
}else{&#xD;
	view.get(&quot;#dsDm11&quot;).set(&quot;parameter&quot;,null).flushAsync();&#xD;
	//(&quot;text&quot;,&quot;请输入正确的查询条件...&quot;);&#xD;
}&#xD;
</ClientEvent>
            <Property name="caption">查询</Property>
            <Property name="icon">url(>skin>common/icons.gif) -40px -100px</Property>
          </Button>
          <Button>
            <ClientEvent name="onClick">view.get(&quot;#dsQuery&quot;).clear();&#xD;
view.get(&quot;#dsQuery&quot;).insert();&#xD;
&#xD;
</ClientEvent>
            <Property name="caption">重置</Property>
            <Property name="icon">url(>skin>common/icons.gif) -20px -200px</Property>
          </Button>
        </AutoForm>
        <Panel layoutConstraint="align:center;padding:10">
          <Property name="border">none</Property>
          <Property name="width">auto</Property>
          <Property name="height">100%</Property>
          <Property name="contentOverflow">visible</Property>
          <Property name="visible">false</Property>
          <Property name="hideMode">display</Property>
          <Buttons/>
          <Children>
            <Import src="com.kits.inms.mw.view.info#infoPanel"/>
          </Children>
          <Tools/>
        </Panel>
        <Dialog id="dialogGetStockId">
          <Property name="width">80%</Property>
          <Property name="height">80%</Property>
          <Property name="caption">仓库信息</Property>
          <Buttons/>
          <Children>
            <AutoForm>
              <Property name="dataSet">dsQuery1</Property>
              <Property name="cols">200,200,80,80</Property>
              <Property name="exClassName">panel0</Property>
              <AutoFormElement>
                <Property name="name">stockNo</Property>
                <Property name="property">stockNo</Property>
                <Property name="ignored">true</Property>
                <Editor/>
              </AutoFormElement>
              <AutoFormElement>
                <Property name="name">stockName</Property>
                <Property name="property">stockName</Property>
                <Editor/>
              </AutoFormElement>
              <AutoFormElement>
                <Property name="name">createDate</Property>
                <Property name="property">createDate</Property>
                <Property name="ignored">true</Property>
                <Editor/>
              </AutoFormElement>
            </AutoForm>
            <ToolBar>
              <Button>
                <ClientEvent name="onClick">var data = null;&#xD;
data = dsQuery1.getData(&quot;#&quot;);&#xD;
view.get(&quot;#dsDm111&quot;).set(&quot;parameter&quot;,data).flushAsync();&#xD;
</ClientEvent>
                <Property name="caption">查询</Property>
                <Property name="icon">url(>skin>common/icons.gif) -40px -100px</Property>
              </Button>
              <Button>
                <ClientEvent name="onClick">dsQuery1.clear();&#xD;
dsQuery1.insert();&#xD;
</ClientEvent>
                <Property name="caption">重置</Property>
                <Property name="icon">url(>skin>common/icons.gif) -20px -200px</Property>
              </Button>
              <ToolBarButton>
                <ClientEvent name="onClick">var data = view.get(&quot;#dsDm111&quot;).getData(&quot;#&quot;);&#xD;
&#xD;
var stockId = data.get(&quot;stockId&quot;);&#xD;
view.get(&quot;#dsDm11&quot;).set(&quot;parameter&quot;,{&#xD;
	stockId:stockId&#xD;
}).flushAsync(function(){&#xD;
	&#xD;
//info.doSet(&quot;text&quot;,&quot;查询【&quot;+data.get(&quot;stockId&quot;)+&quot;】成功！&quot;);&#xD;
&#xD;
view.get(&quot;#dsQuery&quot;).getData(&quot;#&quot;).set(&quot;stockId&quot;,stockId);&#xD;
view.get(&quot;#dialogGetStockId&quot;).close();&#xD;
&#xD;
});</ClientEvent>
                <Property name="caption">确认</Property>
                <Property name="icon">url(>skin>common/icons.gif) -180px -20px</Property>
              </ToolBarButton>
              <ToolBarButton>
                <ClientEvent name="onClick">view.get(&quot;#dialogGetStockId&quot;).close();</ClientEvent>
                <Property name="caption">关闭</Property>
                <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
              </ToolBarButton>
              <Fill/>
              <DataPilot>
                <Property name="dataSet">dsDm111</Property>
              </DataPilot>
            </ToolBar>
            <DataSet id="dsQuery1">
              <ClientEvent name="onReady">self.insert();&#xD;
</ClientEvent>
              <Property name="dataType">[dtQuery1]</Property>
            </DataSet>
            <DataSet id="dsDm111">
              <Property name="dataType">[dtDm11]</Property>
              <Property name="dataProvider">bsjc03BO#queryDm11</Property>
              <Property name="pageSize">10</Property>
              <Property name="loadMode">lazy</Property>
            </DataSet>
            <DataGrid>
              <ClientEvent name="onDataRowDoubleClick">var data = view.get(&quot;#dsDm111&quot;).getData(&quot;#&quot;);&#xD;
&#xD;
var stockId = data.get(&quot;stockId&quot;);&#xD;
view.get(&quot;#dsDm11&quot;).set(&quot;parameter&quot;,{&#xD;
	stockId:stockId&#xD;
}).flushAsync(function(){&#xD;
	&#xD;
//info.doSet(&quot;text&quot;,&quot;查询【&quot;+data.get(&quot;stockId&quot;)+&quot;】成功！&quot;);&#xD;
&#xD;
view.get(&quot;#dsQuery&quot;).getData(&quot;#&quot;).set(&quot;stockId&quot;,stockId);&#xD;
view.get(&quot;#dialogGetStockId&quot;).close();&#xD;
&#xD;
});&#xD;
</ClientEvent>
              <Property name="dataSet">dsDm111</Property>
              <Property name="readOnly">true</Property>
              <DataColumn name="stockId">
                <Property name="property">stockId</Property>
              </DataColumn>
              <DataColumn name="stockName">
                <Property name="property">stockName</Property>
              </DataColumn>
              <DataColumn name="defA">
                <Property name="property">defA</Property>
              </DataColumn>
              <DataColumn name="createUser">
                <Property name="property">createUser</Property>
              </DataColumn>
              <DataColumn name="createDate">
                <Property name="property">createDate</Property>
              </DataColumn>
            </DataGrid>
            <Trigger id="trigger1">
              <ClientEvent name="onExecute">view.get(&quot;#dialogGetStockId&quot;).show();&#xD;
</ClientEvent>
            </Trigger>
          </Children>
          <Tools/>
        </Dialog>
      </Children>
      <Tools/>
    </Panel>
    <TabControl id="tabControl">
      <ClientEvent name="beforeTabChange">	var data = view.get(&quot;#dsDm11.data:#&quot;);&#xD;
	if(data){&#xD;
		var stockId = data.get(&quot;stockId&quot;);&#xD;
		view.get(&quot;#dsDm12&quot;).set(&quot;parameter&quot;,{&quot;stockId&quot;:stockId}).flushAsync();&#xD;
	}&#xD;
	&#xD;
&#xD;
</ClientEvent>
      <Property name="visible">true</Property>
      <ControlTab id="stockTab">
        <Property name="caption">仓库信息</Property>
        <Property name="name">stockTab</Property>
        <Panel>
          <Buttons/>
          <Children>
            <ToolBar>
              <ToolBarButton>
                <ClientEvent name="onClick">view.get(&quot;#dsDm11&quot;).insert();&#xD;
view.get(&quot;#stockId&quot;).set(&quot;readOnly&quot;,false);&#xD;
view.get(&quot;#dialog1&quot;).show();&#xD;
</ClientEvent>
                <Property name="caption">资料新增</Property>
                <Property name="icon">url(>skin>common/icons.gif) -120px 0px</Property>
              </ToolBarButton>
              <ToolBarButton>
                <ClientEvent name="onClick">view.get(&quot;#stockId&quot;).set(&quot;readOnly&quot;,true);&#xD;
var data = dsDm11.getData(&quot;#&quot;);&#xD;
&#xD;
if(data==null){&#xD;
	dorado.MessageBox.alert(&quot;请选择要修改的数据！&quot;);&#xD;
}else{&#xD;
	view.get(&quot;#dialog1&quot;).show();&#xD;
}&#xD;
</ClientEvent>
                <Property name="caption">资料修改</Property>
                <Property name="icon">url(>skin>common/icons.gif) -200px 0px</Property>
              </ToolBarButton>
              <ToolBarButton>
                <ClientEvent name="onClick">functions[&quot;delOnClick&quot;]();&#xD;
</ClientEvent>
                <Property name="caption">资料删除</Property>
                <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
              </ToolBarButton>
              <Fill/>
              <DataPilot>
                <Property name="dataSet">dsDm11</Property>
              </DataPilot>
            </ToolBar>
            <DataGrid id="dgDm11">
              <ClientEvent name="onDataRowClick">if(arg.column.get(&quot;caption&quot;)!=&quot;RowSelector&quot;){&#xD;
	//var selection = self.get(&quot;selection&quot;);&#xD;
	var entity = self.get(&quot;dataSet&quot;).getData(&quot;#&quot;);&#xD;
	&#xD;
	self.set(&quot;selection&quot;,entity);&#xD;
}&#xD;
&#xD;
</ClientEvent>
              <ClientEvent name="onDataRowDoubleClick">view.get(&quot;#stockId&quot;).set(&quot;readOnly&quot;,true);&#xD;
view.get(&quot;#dialog1&quot;).show();</ClientEvent>
              <ClientEvent name="onSelectionChange">&#xD;
</ClientEvent>
              <Property name="dataSet">dsDm11</Property>
              <Property name="selectionMode">multiRows</Property>
              <Property name="readOnly">true</Property>
              <RowNumColumn/>
              <DataColumn name="stockId">
                <Property name="property">stockId</Property>
              </DataColumn>
              <DataColumn name="stockName">
                <Property name="property">stockName</Property>
              </DataColumn>
              <DataColumn name="defs01">
                <Property name="property">defs01</Property>
              </DataColumn>
              <DataColumn name="address">
                <Property name="property">address</Property>
              </DataColumn>
              <DataColumn name="dutyPerson">
                <Property name="property">dutyPerson</Property>
              </DataColumn>
              <DataColumn name="phoneNum">
                <Property name="property">phoneNum</Property>
              </DataColumn>
              <DataColumn name="defs02">
                <Property name="property">defs02</Property>
              </DataColumn>
              <DataColumn name="defA">
                <Property name="property">defA</Property>
              </DataColumn>
            </DataGrid>
          </Children>
          <Tools/>
        </Panel>
      </ControlTab>
      <ControlTab>
        <Property name="caption">储位信息</Property>
        <Property name="name">locTab</Property>
        <Panel>
          <Buttons/>
          <Children>
            <ToolBar>
              <ToolBarButton>
                <ClientEvent name="onClick">view.get(&quot;#dsDm12&quot;).insert({&#xD;
	stockId: view.get(&quot;#dsDm11.data:#&quot;).get(&quot;stockId&quot;) &#xD;
});&#xD;
&#xD;
view.get(&quot;#locNo&quot;).set(&quot;readOnly&quot;,false);&#xD;
view.get(&quot;#dialog2&quot;).show();&#xD;
</ClientEvent>
                <Property name="caption">资料新增</Property>
                <Property name="icon">url(>skin>common/icons.gif) -120px 0px</Property>
              </ToolBarButton>
              <ToolBarButton>
                <ClientEvent name="onClick">view.get(&quot;#locNo&quot;).set(&quot;readOnly&quot;,true);&#xD;
var data = view.get(&quot;#dsDm12&quot;).getData(&quot;#&quot;);&#xD;
if(data==null){&#xD;
	dorado.MessageBox.alert(&quot;请至少选择一条要修改的数据！&quot;);&#xD;
	return;&#xD;
	//view.get(&quot;#dialog2&quot;).show();&#xD;
}else{&#xD;
		view.get(&quot;#dsDm12&quot;).getData().setCurrent(data);&#xD;
		view.get(&quot;#dialog2&quot;).show();&#xD;
}&#xD;
</ClientEvent>
                <Property name="caption">资料修改</Property>
                <Property name="icon">url(>skin>common/icons.gif) -200px 0px</Property>
              </ToolBarButton>
              <ToolBarButton>
                <ClientEvent name="onClick">var data = dsDm12.getData(&quot;#&quot;);&#xD;
&#xD;
if(data==null){&#xD;
	dorado.MessageBox.alert(&quot;请选择要删除的数据！&quot;);&#xD;
}else{&#xD;
	functions[&quot;delLocOnclick&quot;](data);&#xD;
}</ClientEvent>
                <Property name="caption">资料删除</Property>
                <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
              </ToolBarButton>
              <Fill/>
              <DataPilot>
                <Property name="dataSet">dsDm12</Property>
              </DataPilot>
            </ToolBar>
            <DataGrid id="dgDm12">
              <ClientEvent name="onRenderRow">&#xD;
&#xD;
</ClientEvent>
              <ClientEvent name="onDataRowClick">if(arg.column.get(&quot;caption&quot;)!=&quot;RowSelector&quot;){&#xD;
	//var  = self.get(&quot;selection&quot;);&#xD;
	var entity = self.get(&quot;dataSet&quot;).getData(&quot;#&quot;);&#xD;
	&#xD;
	self.set(&quot;selection&quot;,entity);&#xD;
}&#xD;
&#xD;
</ClientEvent>
              <ClientEvent name="onDataRowDoubleClick">view.get(&quot;#locNo&quot;).set(&quot;readOnly&quot;,true);&#xD;
view.get(&quot;#dialog2&quot;).show();&#xD;
</ClientEvent>
              <Property name="dataSet">dsDm12</Property>
              <Property name="readOnly">true</Property>
              <Property name="selectionMode">multiRows</Property>
              <Property name="groupOnSort">true</Property>
              <RowNumColumn>
                <Property name="visible">true</Property>
              </RowNumColumn>
              <DataColumn name="stockId">
                <Property name="property">stockId</Property>
              </DataColumn>
              <DataColumn name="locNo">
                <Property name="property">locNo</Property>
              </DataColumn>
              <DataColumn name="loc2f">
                <Property name="property">loc2f</Property>
              </DataColumn>
              <DataColumn name="locName">
                <Property name="property">locName</Property>
              </DataColumn>
              <DataColumn name="locLayer">
                <Property name="property">locLayer</Property>
              </DataColumn>
              <DataColumn name="loc1f">
                <Property name="property">loc1f</Property>
              </DataColumn>
              <DataColumn name="cap">
                <Property name="property">cap</Property>
              </DataColumn>
            </DataGrid>
          </Children>
          <Tools/>
        </Panel>
      </ControlTab>
    </TabControl>
    <Dialog id="dialog1">
      <Property name="width">60%</Property>
      <Property name="height">70%</Property>
      <Property name="closeable">false</Property>
      <Property name="caption">仓库信息</Property>
      <Buttons/>
      <Children>
        <ToolBar>
          <Button>
            <ClientEvent name="onClick">functions[&quot;saveOnClick&quot;]();&#xD;
</ClientEvent>
            <Property name="caption">保存</Property>
            <Property name="icon">url(>skin>common/icons.gif) -140px -20px</Property>
          </Button>
          <Button>
            <ClientEvent name="onClick">view.get(&quot;#dsDm11.data:#&quot;).cancel();&#xD;
view.get(&quot;#dialog1&quot;).close();&#xD;
</ClientEvent>
            <Property name="caption">关闭</Property>
            <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
          </Button>
        </ToolBar>
        <AutoForm id="form1">
          <Property name="dataSet">dsDm11</Property>
          <Property name="labelAlign">right</Property>
          <Property name="padding">30</Property>
          <Property name="labelWidth">100</Property>
          <AutoFormElement id="stockId">
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockName</Property>
            <Property name="property">stockName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">defs01</Property>
            <Property name="property">defs01</Property>
            <Property name="ignored">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">defs02</Property>
            <Property name="property">defs02</Property>
            <Property name="ignored">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement layoutConstraint="colSpan:2">
            <Property name="name">address</Property>
            <Property name="property">address</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">dutyPerson</Property>
            <Property name="property">dutyPerson</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">phoneNum</Property>
            <Property name="property">phoneNum</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement layoutConstraint="colSpan:2">
            <Property name="name">defA</Property>
            <Property name="property">defA</Property>
            <Property name="editorType">TextArea</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createUser</Property>
            <Property name="property">createUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createDate</Property>
            <Property name="property">createDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyUser</Property>
            <Property name="property">modifyUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyDate</Property>
            <Property name="property">modifyDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
    <Dialog id="dialog2">
      <Property name="width">50%</Property>
      <Property name="height">60%</Property>
      <Property name="closeable">false</Property>
      <Property name="caption">储位信息</Property>
      <Buttons/>
      <Children>
        <ToolBar>
          <Button>
            <ClientEvent name="onClick">functions[&quot;saveLocOnclick&quot;]();&#xD;
&#xD;
</ClientEvent>
            <Property name="caption">保存</Property>
            <Property name="icon">url(>skin>common/icons.gif) -140px -20px</Property>
          </Button>
          <Button>
            <ClientEvent name="onClick">view.get(&quot;#dsDm12.data:#&quot;).cancel();&#xD;
view.get(&quot;#dialog2&quot;).hide();&#xD;
</ClientEvent>
            <Property name="caption">取消</Property>
            <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
          </Button>
        </ToolBar>
        <AutoForm id="form2">
          <Property name="dataSet">dsDm12</Property>
          <Property name="labelWidth">100</Property>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement id="locNo">
            <Property name="name">locNo</Property>
            <Property name="property">locNo</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc2f</Property>
            <Property name="property">loc2f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locName</Property>
            <Property name="property">locName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">cap</Property>
            <Property name="property">cap</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locLayer</Property>
            <Property name="property">locLayer</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc1f</Property>
            <Property name="property">loc1f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createUser</Property>
            <Property name="property">createUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createDate</Property>
            <Property name="property">createDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyUser</Property>
            <Property name="property">modifyUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyDate</Property>
            <Property name="property">modifyDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
    <Dialog id="dialog3">
      <Property name="width">450</Property>
      <Property name="height">400</Property>
      <Buttons>
        <Button>
          <ClientEvent name="onClick">var data  = view.get(&quot;#dsQuery1.data:#&quot;);&#xD;
&#xD;
if(data){&#xD;
	view.get(&quot;#dsDm11&quot;).set(&quot;parameter&quot;,data).flushAsync(function(){&#xD;
		view.get(&quot;#dialog3&quot;).hide();&#xD;
		view.get(&quot;#tabControl&quot;).set(&quot;currentTab&quot;,&quot;stockTab&quot;);&#xD;
	});	&#xD;
	&#xD;
}&#xD;
</ClientEvent>
          <Property name="caption">确认查询</Property>
          <Property name="icon">url(>skin>common/icons.gif) -20px 0px</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#dsQuery1&quot;).clear();&#xD;
view.get(&quot;#dsQuery1&quot;).insert();&#xD;
</ClientEvent>
          <Property name="caption">重置</Property>
          <Property name="icon">url(>skin>common/icons.gif) -20px -200px</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#dialog3&quot;).hide();&#xD;
</ClientEvent>
          <Property name="caption">取消</Property>
          <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
        </Button>
      </Buttons>
      <Children>
        <AutoForm>
          <Property name="dataSet">dsQuery1</Property>
          <AutoFormElement>
            <Property name="name">compId</Property>
            <Property name="property">compId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createUser</Property>
            <Property name="property">createUser</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createDate</Property>
            <Property name="property">createDate</Property>
            <Property name="trigger">dateDropDown1</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockName</Property>
            <Property name="property">stockName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">authId</Property>
            <Property name="property">authId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">facId</Property>
            <Property name="property">facId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">zoneId</Property>
            <Property name="property">zoneId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyA</Property>
            <Property name="property">stockKeyA</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyB</Property>
            <Property name="property">stockKeyB</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyC</Property>
            <Property name="property">stockKeyC</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
    <Dialog id="dialog4">
      <Property name="height">400</Property>
      <Property name="width">450</Property>
      <Buttons>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#saveDm11&quot;).set({&#xD;
	successMessage : &quot;修改已完成！&quot;&#xD;
}).execute(function(){&#xD;
	view.get(&quot;#dialog4&quot;).hide();&#xD;
});&#xD;
</ClientEvent>
          <Property name="caption">确认修改</Property>
          <Property name="icon">url(>skin>common/icons.gif) -20px 0px</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#dialog4&quot;).hide();&#xD;
</ClientEvent>
          <Property name="caption">取消</Property>
          <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
        </Button>
      </Buttons>
      <Children>
        <AutoForm>
          <Property name="dataSet">dsDm11</Property>
          <AutoFormElement>
            <Property name="name">compId</Property>
            <Property name="property">compId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockName</Property>
            <Property name="property">stockName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">authId</Property>
            <Property name="property">authId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">facId</Property>
            <Property name="property">facId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">zoneId</Property>
            <Property name="property">zoneId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyA</Property>
            <Property name="property">stockKeyA</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyB</Property>
            <Property name="property">stockKeyB</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockKeyC</Property>
            <Property name="property">stockKeyC</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">defA</Property>
            <Property name="property">defA</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
    <Dialog id="dialog5">
      <Property name="height">400</Property>
      <Property name="width">400</Property>
      <Buttons>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#saveDm12&quot;).set({&#xD;
	successMessage : &quot;修改已完成 ！&quot;&#xD;
}).execute(function(){&#xD;
	view.get(&quot;#dialog5&quot;).hide();&#xD;
});&#xD;
</ClientEvent>
          <Property name="caption">确认修改</Property>
          <Property name="icon">url(>skin>common/icons.gif) -20px 0px</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#dialog5&quot;).hide();&#xD;
</ClientEvent>
          <Property name="caption">取消</Property>
          <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
        </Button>
      </Buttons>
      <Children>
        <AutoForm>
          <Property name="dataSet">dsDm12</Property>
          <AutoFormElement>
            <Property name="name">compId</Property>
            <Property name="property">compId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locNo</Property>
            <Property name="property">locNo</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locName</Property>
            <Property name="property">locName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">authId</Property>
            <Property name="property">authId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">keeper</Property>
            <Property name="property">keeper</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">cap</Property>
            <Property name="property">cap</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locLayer</Property>
            <Property name="property">locLayer</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc1f</Property>
            <Property name="property">loc1f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc2f</Property>
            <Property name="property">loc2f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc3f</Property>
            <Property name="property">loc3f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc4f</Property>
            <Property name="property">loc4f</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
    <UpdateAction id="saveDm11">
      <Property name="dataResolver">bsjc03BO#saveDm11</Property>
      <UpdateItem>
        <Property name="dataSet">dsDm11</Property>
      </UpdateItem>
    </UpdateAction>
    <UpdateAction id="saveDm12">
      <Property name="dataResolver">bsjc04BO#saveDm12</Property>
      <UpdateItem>
        <Property name="dataSet">dsDm12</Property>
      </UpdateItem>
    </UpdateAction>
    <DateDropDown id="dateDropDown1">
      <ClientEvent name="onValueSelect">if(arg.selectedValue != null &amp;&amp; arg.selectedValue != ''){&#xD;
	arg.selectedValue=arg.selectedValue.formatDate(&quot;Y-m-d&quot;);&#xD;
}&#xD;
</ClientEvent>
    </DateDropDown>
    <Dialog id="dialogDetail">
      <Property name="height">60%</Property>
      <Property name="width">50%</Property>
      <Buttons>
        <Button>
          <ClientEvent name="onClick">functions[&quot;saveOrUpdDm12&quot;](&quot;新增&quot;);&#xD;
</ClientEvent>
          <Property name="caption">新增</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">functions[&quot;saveOrUpdDm12&quot;](&quot;修改&quot;);</ClientEvent>
          <Property name="caption">修改</Property>
          <Property name="icon">url(>skin>common/icons.gif) -20px 0px</Property>
        </Button>
        <Button>
          <ClientEvent name="onClick">view.get(&quot;#dsDm12.data:#&quot;).cancel();&#xD;
view.get(&quot;#dialogDetail&quot;).hide();&#xD;
</ClientEvent>
          <Property name="caption">关闭</Property>
          <Property name="icon">url(>skin>common/icons.gif) -40px 0px</Property>
        </Button>
      </Buttons>
      <Children>
        <AutoForm>
          <Property name="dataSet">dsDm12</Property>
          <Property name="labelWidth">100</Property>
          <AutoFormElement>
            <Property name="name">stockId</Property>
            <Property name="property">stockId</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locNo</Property>
            <Property name="property">locNo</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locName</Property>
            <Property name="property">locName</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">authId</Property>
            <Property name="property">authId</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">keeper</Property>
            <Property name="property">keeper</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">cap</Property>
            <Property name="property">cap</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">locLayer</Property>
            <Property name="property">locLayer</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">loc1f</Property>
            <Property name="property">loc1f</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createUser</Property>
            <Property name="property">createUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">createDate</Property>
            <Property name="property">createDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyUser</Property>
            <Property name="property">modifyUser</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="name">modifyDate</Property>
            <Property name="property">modifyDate</Property>
            <Property name="readOnly">true</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
      <Tools/>
    </Dialog>
  </View>
</ViewConfig>
